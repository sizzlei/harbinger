<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    
    <link href="/public/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/public/css/easymde.min.css">
    
    <link rel="stylesheet" href="/public/css/style.css">
</head>
<body>

    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top border-bottom">
            <div class="container-fluid">
                
                <a class="navbar-brand d-flex align-items-center" href="/dashboard">
                    
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-signal text-primary me-2" viewBox="0 0 16 16">
                        <path d="m6.08.234.179.727a7.3 7.3 0 0 0-2.01.832l-.383-.643A7.9 7.9 0 0 1 6.079.234zm3.84 0L9.742.96a7.3 7.3 0 0 1 2.01.832l.388-.643A8 8 0 0 0 9.92.234m-8.77 3.63a8 8 0 0 0-.916 2.215l.727.18a7.3 7.3 0 0 1 .832-2.01l-.643-.386zM.75 8a7 7 0 0 1 .081-1.086L.091 6.8a8 8 0 0 0 0 2.398l.74-.112A7 7 0 0 1 .75 8m11.384 6.848-.384-.64a7.2 7.2 0 0 1-2.007.831l.18.728a8 8 0 0 0 2.211-.919M15.251 8q0 .547-.082 1.086l.74.112a8 8 0 0 0 0-2.398l-.74.114q.082.54.082 1.086m.516 1.918-.728-.18a7.3 7.3 0 0 1-.832 2.012l.643.387a8 8 0 0 0 .917-2.219m-6.68 5.25c-.72.11-1.453.11-2.173 0l-.112.742a8 8 0 0 0 2.396 0l-.112-.741zm4.75-2.868a7.2 7.2 0 0 1-1.537 1.534l.446.605a8 8 0 0 0 1.695-1.689zM12.3 2.163c.587.432 1.105.95 1.537 1.537l.604-.45a8 8 0 0 0-1.69-1.691zM2.163 3.7A7.2 7.2 0 0 1 3.7 2.163l-.45-.604a8 8 0 0 0-1.691 1.69l.604.45zm12.688.163-.644.387c.377.623.658 1.3.832 2.007l.728-.18a8 8 0 0 0-.916-2.214M6.913.831a7.3 7.3 0 0 1 2.172 0l.112-.74a8 8 0 0 0-2.396 0zM2.547 14.64 1 15l.36-1.549-.729-.17-.361 1.548a.75.75 0 0 0 .9.902l1.548-.357zM.786 12.612l.732.168.25-1.073A7.2 7.2 0 0 1 .96 9.74l-.727.18a8 8 0 0 0 .736 1.902l-.184.79zm3.5 1.623-1.073.25.17.731.79-.184c.6.327 1.239.574 1.902.737l.18-.728a7.2 7.2 0 0 1-1.962-.811zM8 1.5a6.5 6.5 0 0 0-6.498 6.502 6.5 6.5 0 0 0 .998 3.455l-.625 2.668L4.54 13.5a6.502 6.502 0 0 0 6.93-11A6.5 6.5 0 0 0 8 1.5"/>
                    </svg>

                    <span style="font-weight: bold; font-size: 1.25rem;">Harbinger</span>
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        {{if .UserEmail}}
                            <li class="nav-item">
                                <a class="nav-link" href="/dashboard">대시보드</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/notices">공지 관리</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/channels">채널 관리</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/templates">템플릿 관리</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/bots">봇 관리</a>
                            </li>
                            
                            {{if eq .UserRole "ADMIN"}}
                            <li class="nav-item">
                                <a class="nav-link" href="/admin/users">사용자 관리</a>
                            </li>
                            {{end}}
                        {{end}}
                    </ul>
                    
                    <div class="d-flex align-items-center">
                        {{if .UserEmail}}
                            <span class="navbar-text me-3">
                                {{.UserEmail}}
                            </span>
                            <a href="/auth/logout" class="btn btn-primary btn-sm">로그아웃</a>
                        {{else}}
                             <a href="/auth/login" class="btn btn-primary btn-sm me-2">로그인</a>
                             <a href="/auth/register" class="btn btn-outline-secondary btn-sm">회원가입</a>
                        {{end}}
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mt-5 pt-4">
        {{embed}}
    </main>

    <footer class="container text-center text-muted border-top py-3 mt-4">
        <p>&copy; 2025 Harbinger Project. All rights reserved.</p>
    </footer>

    <script src="/public/js/bootstrap.bundle.min.js"></script>

    <script src="/public/js/easymde.min.js"></script>
</body>
</html>